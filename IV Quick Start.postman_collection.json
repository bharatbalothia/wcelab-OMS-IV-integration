{
	"info": {
		"_postman_id": "76d53851-04ed-4b4f-98d3-eceb699f6823",
		"name": "IV Quick Start",
		"description": "#IV Quick Start collection\n\nCheck the \"Variables\" tab of the collectiont to validate if those vairables are correct. ",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "16 Thresholds",
			"item": [
				{
					"name": "Threshold - Get List",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/thresholds}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/thresholds",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"thresholds"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				}
			]
		},
		{
			"name": "20 ShipNodes",
			"item": [
				{
					"name": "ShipNode - Get List",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/shipNodes}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/shipNodes",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"shipNodes"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				},
				{
					"name": "ShipNode - Get Detail (kind of useless)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/shipNodes}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/shipNodes/nztest_littleton_dc",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"shipNodes",
								"nztest_littleton_dc"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				},
				{
					"name": "ShipNode - Set",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/shipNodes}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"latitude\": 25.8867881,\r\n\t\"longitude\": -25.972472\r\n}"
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/shipNodes/latest_madrid_dc",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"shipNodes",
								"latest_madrid_dc"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				}
			]
		},
		{
			"name": "50 Reservation",
			"item": [
				{
					"name": "Get Reservation",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_reservations}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/reservations?deliveryMethod=SHP&distributionGroup=lauratest_dallas_dg&itemId=NZT001&lineId=1&productClass=NEW&shipNode=latest_madrid_dc",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"reservations"
							],
							"query": [
								{
									"key": "deliveryMethod",
									"value": "SHP"
								},
								{
									"key": "distributionGroup",
									"value": "lauratest_dallas_dg"
								},
								{
									"key": "itemId",
									"value": "NZT001"
								},
								{
									"key": "lineId",
									"value": "1"
								},
								{
									"key": "productClass",
									"value": "NEW"
								},
								{
									"key": "shipNode",
									"value": "latest_madrid_dc"
								}
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				},
				{
					"name": "Create Reservation",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_reservations}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"lines\": [{\n\t\t\"deliveryMethod\": \"SHP\",\n        \"distributionGroup\": \"lauratest_dallas_dg\",\n        \"itemId\": \"NZT001\",\n        \"lineId\": \"1\",\n        \"productClass\": \"NEW\",\n        \"quantity\": 5.0,\n        \"shipNode\": \"latest_madrid_dc\",\n        \"unitOfMeasure\": \"EACH\"\n      }],\n\t\"reference\": \"REF1\",\n\t\"segment\": \" \",\n\t\"segmentType\": \" \",\n\t\"timeToExpire\": 15\n}"
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/reservations",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"reservations"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				}
			]
		},
		{
			"name": "30 Supplies",
			"item": [
				{
					"name": "Supply - Get",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_supplies}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/supplies?itemId=NZT001&unitOfMeasure=EACH&productClass=NEW&shipNode=nztest_littleton_dc",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"supplies"
							],
							"query": [
								{
									"key": "itemId",
									"value": "NZT001"
								},
								{
									"key": "unitOfMeasure",
									"value": "EACH"
								},
								{
									"key": "productClass",
									"value": "NEW"
								},
								{
									"key": "shipNode",
									"value": "nztest_littleton_dc"
								}
							]
						},
						"description": "#Supply - Sync\n\nSync supply. See Documentation for API Detail\n\nhttps://developer.ibm.com/api/view/inventoryvis-prod:inventory-visibility:title-IBM_Inventory_Visibility_APIs#id76464 "
					},
					"response": []
				},
				{
					"name": "Supply - Adjust",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_supplies}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"supplies\": [\n\t\t{\n\t\t\t\"adjustmentType\": \"ADJUSTMENT\",\n\t\t\t\"changedQuantity\": 80,\n\t\t\t\"itemId\": \"NZT001\",\n\t\t\t\"productClass\": \"NEW\",\n\t\t\t\"shipByDate\": \"2500-01-01T00:00:00Z\",\n\t\t\t\"shipNode\": \"nztest_littleton_dc\",\n\t\t\t\"type\": \"ONHAND\",\n\t\t\t\"unitOfMeasure\": \"EACH\"\n\t\t}\n\t\t]\n}"
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/supplies",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"supplies"
							]
						},
						"description": "#Supply - Sync\n\nSync supply. See Documentation for API Detail\n\nhttps://developer.ibm.com/api/view/inventoryvis-prod:inventory-visibility:title-IBM_Inventory_Visibility_APIs#id76464 "
					},
					"response": []
				},
				{
					"name": "Supply - Sync",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_supplies}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"supplies\": [\r\n\t\t{\r\n\t\t\t\"eta\": \"1900-01-01T00:00:00Z\",\r\n\t\t\t\"itemId\": \"NZT001\",\r\n\t\t\t\"lineReference\": \" \",\r\n\t\t\t\"productClass\": \"NEW\",\r\n\t\t\t\"quantity\": 100.0,\r\n\t\t\t\"reference\": \" \",\r\n\t\t\t\"referenceType\": \" \",\r\n\t\t\t\"segment\": \" \",\r\n\t\t\t\"segmentType\": \" \",\r\n\t\t\t\"shipByDate\": \"2500-01-01T00:00:00Z\",\r\n\t\t\t\"shipNode\": \"nztest_littleton_dc\",\r\n\t\t\t\"sourceTs\": \"2018-10-29T10:14:37-04:00\",\r\n\t\t\t\"tagNumber\": \" \",\r\n\t\t\t\"type\": \"ONHAND\",\r\n\t\t\t\"unitOfMeasure\": \"EACH\"\r\n\t\t},{\r\n\t\t\t\"eta\": \"1900-01-01T00:00:00Z\",\r\n\t\t\t\"itemId\": \"NZT002\",\r\n\t\t\t\"lineReference\": \" \",\r\n\t\t\t\"productClass\": \"NEW\",\r\n\t\t\t\"quantity\": 200.0,\r\n\t\t\t\"reference\": \" \",\r\n\t\t\t\"referenceType\": \" \",\r\n\t\t\t\"segment\": \" \",\r\n\t\t\t\"segmentType\": \" \",\r\n\t\t\t\"shipByDate\": \"2500-01-01T00:00:00Z\",\r\n\t\t\t\"shipNode\": \"nztest_littleton_dc\",\r\n\t\t\t\"sourceTs\": \"2018-10-29T10:14:37-04:00\",\r\n\t\t\t\"tagNumber\": \" \",\r\n\t\t\t\"type\": \"ONHAND\",\r\n\t\t\t\"unitOfMeasure\": \"EACH\"\r\n\t\t},{\r\n\t\t\t\"eta\": \"1900-01-01T00:00:00Z\",\r\n\t\t\t\"itemId\": \"NZT003\",\r\n\t\t\t\"lineReference\": \" \",\r\n\t\t\t\"productClass\": \"NEW\",\r\n\t\t\t\"quantity\": 300.0,\r\n\t\t\t\"reference\": \" \",\r\n\t\t\t\"referenceType\": \" \",\r\n\t\t\t\"segment\": \" \",\r\n\t\t\t\"segmentType\": \" \",\r\n\t\t\t\"shipByDate\": \"2500-01-01T00:00:00Z\",\r\n\t\t\t\"shipNode\": \"nztest_littleton_dc\",\r\n\t\t\t\"sourceTs\": \"2018-10-29T10:14:37-04:00\",\r\n\t\t\t\"tagNumber\": \" \",\r\n\t\t\t\"type\": \"ONHAND\",\r\n\t\t\t\"unitOfMeasure\": \"EACH\"\r\n\t\t}\r\n\t\t]\r\n}"
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/supplies",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"supplies"
							]
						},
						"description": "#Supply - Sync\n\nSync supply. See Documentation for API Detail\n\nhttps://developer.ibm.com/api/view/inventoryvis-prod:inventory-visibility:title-IBM_Inventory_Visibility_APIs#id76464 "
					},
					"response": []
				}
			]
		},
		{
			"name": "40 Demand",
			"item": [
				{
					"name": "Demand - Adjust",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_demands}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"demands\": [\r\n\t\t{\r\n\t\t\t\"adjustmentReason\": \"PROCESS\",\r\n\t\t\t\"cancelDate\": \"2500-01-01T00:00:00Z\",\r\n\t\t\t\"changedQuantity\": -1.0,\r\n\t\t\t\"eta\": \"1900-01-01T00:00:00Z\",\r\n\t\t\t\"minShipByDate\": \"1900-01-01T00:00:00Z\",\r\n\t\t\t\"itemId\": \"NZT001\",\r\n\t\t\t\"productClass\": \"NEW\",\r\n\t\t\t\"reference\": \" \",\r\n\t\t\t\"referenceType\": \" \",\r\n\t\t\t\"segment\": \" \",\r\n\t\t\t\"segmentType\": \" \",\r\n\t\t\t\"shipNode\": \"nztest_littleton_dc\",\r\n\t\t\t\"shipDate\": \"2018-10-29T06:00:00Z\",\r\n\t\t\t\"sourceTs\": \"2018-10-29T06:00:00Z\",\r\n\t\t\t\"tagNumber\": \" \",\r\n\t\t\t\"type\": \"OPEN_ORDER\",\r\n\t\t\t\"unitOfMeasure\": \"EACH\"\r\n\t\t}\r\n\t\t]\r\n}"
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/demands",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"demands"
							]
						},
						"description": "#Supply - Sync\n\nSync supply. See Documentation for API Detail\n\nhttps://developer.ibm.com/api/view/inventoryvis-prod:inventory-visibility:title-IBM_Inventory_Visibility_APIs#id76464 "
					},
					"response": []
				},
				{
					"name": "Demand - Get",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_demands}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/demands?itemId=NZT001&unitOfMeasure=EACH&productClass=NEW&shipNode=nztest_littleton_dc",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"demands"
							],
							"query": [
								{
									"key": "itemId",
									"value": "NZT001"
								},
								{
									"key": "unitOfMeasure",
									"value": "EACH"
								},
								{
									"key": "productClass",
									"value": "NEW"
								},
								{
									"key": "shipNode",
									"value": "nztest_littleton_dc"
								}
							]
						},
						"description": "#Supply - Sync\n\nSync supply. See Documentation for API Detail\n\nhttps://developer.ibm.com/api/view/inventoryvis-prod:inventory-visibility:title-IBM_Inventory_Visibility_APIs#id76464 "
					},
					"response": []
				}
			]
		},
		{
			"name": "10 DistributionGroups",
			"item": [
				{
					"name": "DistributionGroup - Set",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/distributionGroups}}",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"shipNodes\": [{\n\t\t\"shipNode\": \"latest_madrid_dc\"\n\t}]\n}"
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/distributionGroups/lauratest_dallas_dg",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"distributionGroups",
								"lauratest_dallas_dg"
							]
						},
						"description": "DistributionGroup - Set"
					},
					"response": []
				},
				{
					"name": "DistributionGroup - Get List",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/distributionGroups}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/distributionGroups",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"distributionGroups"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				},
				{
					"name": "DistributionGroup - Get Detail",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{bearerToken_configuration/distributionGroups}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "https://{{hostname}}/{{applicationName}}/{{tenantID}}/{{apiVersion}}/configuration/distributionGroups/lauratest_dallas_dg",
							"protocol": "https",
							"host": [
								"{{hostname}}"
							],
							"path": [
								"{{applicationName}}",
								"{{tenantID}}",
								"{{apiVersion}}",
								"configuration",
								"distributionGroups",
								"lauratest_dallas_dg"
							]
						},
						"description": "Add or Update a ShipNode\t"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "3433357e-b613-4e35-9216-5c66902f2197",
				"type": "text/javascript",
				"exec": [
					"const TOKENEXPNAME = \"tokenExpirationTime\";",
					"",
					"",
					"const hostname = pm.variables.get(\"hostname\");",
					"const applicationName = pm.variables.get(\"applicationName\");",
					"const tenantID = pm.variables.get(\"tenantID\");",
					"const apiVersion = pm.variables.get(\"apiVersion\");",
					"const clientID = pm.variables.get(\"client_id\");",
					"const clientSecret = pm.variables.get(\"client_secret\");",
					"const tokenUrlPostfix = pm.variables.get(\"tokenUrlPostfix\");",
					"",
					"// get token for an API and set the token value in the Environment variable as \"bearerToken_XYZ\"",
					"function getAndSetApiToken(apiName) {",
					"    // Construct the targetUrl from the collection variables",
					"    const targetUrl = \"https://\" + hostname + \"/\" + applicationName + \"/\" + tenantID + \"/\" + apiVersion + \"/\" + apiName + \"/\" + tokenUrlPostfix;",
					"    ",
					"    // create the request",
					"    const authRequest = {",
					"        url: targetUrl,",
					"        method: 'POST',",
					"        header: {",
					"            \"Content-Type\" : 'application/x-www-form-urlencoded',",
					"            \"Authorization\" : 'Basic ' + btoa(clientID + \":\" + clientSecret)",
					"        },",
					"        body: {",
					"            mode: 'raw',",
					"            raw: 'grant_type=client_credentials'",
					"        }};",
					"    ",
					"    // Send the request and use setTokenEnvironmentVariable to handle the response",
					"    pm.sendRequest(authRequest, function (err, res) {",
					"        if (err) {",
					"            console.log(err);",
					"            // Unset token expire time to allow getting new ones",
					"            pm.environment.unset(TOKENEXPNAME);",
					"            ",
					"        } else {",
					"            // Use the response to set the token",
					"            setTokenEnvironmentVariable(apiName, res);",
					"        }",
					"    });",
					"}",
					"",
					"// Set token for an API",
					"function setTokenEnvironmentVariable(apiName, response) {",
					"    ",
					"    const TOKEN_NAME = \"bearerToken_\" + apiName;",
					"    ",
					"    // Unset the token environment variable first. So if this fails, user would see a blank token instead of a wrong token.",
					"    pm.environment.unset(TOKEN_NAME);",
					"    ",
					"    // Test if we got 200 as response code",
					"    pm.expect(response.code).to.be.oneOf([200]);",
					"    ",
					"    // get the tokenvalue from response body's json",
					"    const tokenValue = response.json().access_token;",
					"    ",
					"    const timeToLive = response.json().expires_in;",
					"    const tokenExpire = new Date().getTime() / 1000 + timeToLive;",
					"    ",
					"    // Test if token is null",
					"    pm.expect(tokenValue).not.eql(null);",
					"    ",
					"    pm.environment.set(TOKEN_NAME, tokenValue);",
					"    ",
					"    pm.environment.set(TOKENEXPNAME, tokenExpire);",
					"    ",
					"    // Test if token is a long enough string",
					"    pm.expect(pm.variables.get(TOKEN_NAME)).length.to.be.above(24);",
					"    ",
					"    ",
					"    console.log(\"set \" + TOKEN_NAME + \" to: \" + pm.variables.get(TOKEN_NAME));",
					"}",
					"",
					"// get token expiration time. default to 0",
					"const tokenExpirationTime = pm.variables.get(TOKENEXPNAME) || 0;",
					"",
					"const timeInSecondNow = new Date().getTime() / 1000;",
					"",
					"",
					"if (timeInSecondNow >= tokenExpirationTime) {",
					"",
					"    console.log(\"token needs refresh [exp: \" + tokenExpirationTime + \" | now: \" + timeInSecondNow + \"]\");",
					"    ",
					"    getAndSetApiToken(\"supplies\");",
					"    getAndSetApiToken(\"configuration/shipNodes\");",
					"    getAndSetApiToken(\"demands\");",
					"    getAndSetApiToken(\"availability/network\");",
					"    getAndSetApiToken(\"configuration/distributionGroups\");",
					"    getAndSetApiToken(\"reservations\");",
					"    getAndSetApiToken(\"configuration/thresholds\");",
					"    getAndSetApiToken(\"configuration/settings\");",
					"} else {",
					"    console.log(\"token still valid [exp: \" + tokenExpirationTime + \" | now: \" + timeInSecondNow + \"]\");",
					"}",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "4a55479e-0e47-4b3a-9cfe-a547ee4c4794",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "8b655a1d-a283-4814-9e6f-840679ced301",
			"key": "tenantID",
			"value": "42dd13f4",
			"type": "string"
		},
		{
			"id": "7f891e75-2dbd-4c0b-aaf2-e6754a4f3844",
			"key": "hostname",
			"value": "eu-api.watsoncommerce.ibm.com",
			"type": "string"
		},
		{
			"id": "e3b0a310-35f1-4f02-9810-5a1f033318b7",
			"key": "client_id",
			"value": "3inIXacADHofzdkxzQ5s4CSfpJuqaigG",
			"type": "string"
		},
		{
			"id": "1b3a1e4c-cbd6-48a2-a086-25ebc800ffa3",
			"key": "client_secret",
			"value": "Cx2IeYRQahT1V4q6lkluZ1Ad8cxjRApS",
			"type": "string"
		},
		{
			"id": "052e9fff-78dd-4bc0-9779-b43c222582dc",
			"key": "applicationName",
			"value": "inventory",
			"type": "string"
		},
		{
			"id": "75af08f6-e384-410a-985e-27f479639a1d",
			"key": "apiVersion",
			"value": "v1",
			"type": "string"
		},
		{
			"id": "3c71e008-8ead-46ef-bf1e-db035d959614",
			"key": "tokenUrlPostfix",
			"value": "oauth2/token",
			"type": "string"
		}
	]
}